webpackJsonp([6],{"6d7H":function(t,e){},"9JL5":function(t,e){},"9Ymg":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,n=a("bOdI"),i=a.n(n),o=(a("Rv11"),a("TMdk")),c=a.n(o),r=(a("tLo2"),a("blRl")),l=a.n(r),u=(a("d9cu"),a("vkhW")),d=a.n(u),h=(a("GKy3"),a("4vvA")),m=a.n(h),f=a("i5qY"),p=a("22O3"),v={name:"Orderpage",data:function(){return{checked:!0,disabled:!0,maxAmount:"",loanAmount:"",serviceCharge:"",term:"",repayment:"",cardNumber:"",coltiter:"请选择借款用途",columns:[],shows:!1,bindType:"",autonymStatus:"",ocrStatus:"",operatorStatus:"",tbStatus:"",kinsfolkStatus:"",bankStatus:""}},watch:{checked:function(){this.checked&&"请选择借款用途"!==this.coltiter?this.disabled=!1:this.disabled=!0},coltiter:function(){"请选择借款用途"!==this.coltiter&&this.checked?this.disabled=!1:this.disabled=!0}},mounted:function(){var t=this;this.$post(this.HOST+"/detail/userStatusNew",{userId:p.a.get("id")}).then(function(e){"1000000"==e.code&&(t.operatorStatus=e.data.operatorStatus,t.tbStatus=e.data.tbStatus,t.autonymStatus=e.data.autonymStatus,t.ocrStatus=e.data.ocrStatus,t.kinsfolkStatus=e.data.kinsfolkStatus,t.bankStatus=e.data.bankStatus)},function(t){}),this.$post(this.HOST+"/onsumptionScene/list").then(function(e){if("1000000"==e.code){for(var a in e.data)t.columns.push({keyId:e.data[a].type,text:e.data[a].name});t.columns.unshift({keyId:"",text:"-- 请选择 --"})}else m()(e.msg)},function(t){}),this.$post(this.HOST+"/quota/queryValidProduct",{userId:p.a.get("id")}).then(function(e){if("1000000"==e.code){t.maxAmount=parseInt(e.data.maxAmount);var a=e.data.maxAmount*e.data.interestRate;t.loanAmount=parseInt(a+e.data.maxAmount),t.serviceCharge=parseInt(a),t.term=e.data.term;var s=new Date(new Date)/1e3+86400*(e.data.term-1),n=new Date(1e3*s);t.repayment=n.getFullYear()+"年"+(n.getMonth()+1)+"月"+n.getDate()+"日"}else m()(e.msg)},function(t){}),this.$post(this.HOST+"/bankCard/findDefault",{userId:p.a.get("id")}).then(function(e){"1000000"==e.code?(t.cardNumber=e.data.bankName+" 尾号"+e.data.cardNumber,t.bindType=e.data.id):m()(e.msg)},function(t){})},methods:{borrowMoney:function(){var t=this;if(1==this.operatorStatus&&1==this.tbStatus&&1==this.autonymStatus&&1==this.ocrStatus&&1==this.kinsfolkStatus&&1==this.bankStatus)this.$post(this.HOST+"/order/addOrder",{userId:p.a.get("id"),preferentialAmount:0,onsumptionSceneType:this.colcode,cardId:this.bindType,borrowingAmount:this.loanAmount,applyNper:this.term,poundageAmount:this.serviceCharge,actualReimAmount:this.loanAmount,actualAccountAmount:this.maxAmount}).then(function(e){"1000000"==e.code?t.$router.push({path:"/Record"}):m()(e.msg)},function(t){});else{m()("请先进行信用认证");var e=this;setTimeout(function(){e.$router.push({path:"/Mine"})},3e3)}},showprop:function(t){this.shows=!0},onChange:function(t,e,a){"-- 请选择 --"==e.text?(this.coltiter="请选择借款用途",this.colcode=e.keyId):(this.coltiter=e.text,this.colcode=e.keyId)},onCancel:function(){this.shows=!1},conFirm:function(){this.shows=!1}},components:(s={Head:f.a},i()(s,d.a.name,d.a),i()(s,l.a.name,l.a),i()(s,c.a.name,c.a),i()(s,m.a.name,m.a),s)},b={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"Orderpage_box"},[s("Head",[t._v("订单确认页")]),t._v(" "),s("p",{staticClass:"padding_box"}),t._v(" "),s("div",{staticClass:"fullname"},[s("p",[s("span",[t._v("\n           借款金额\n            ")]),t._v(" "),s("em",{staticClass:"emcolor"},[t._v(t._s(t.loanAmount)+"元")])])]),t._v(" "),s("div",{staticClass:"fullname"},[s("p",[s("span",[t._v("\n           服务费\n            ")]),t._v(" "),s("em",{staticClass:"rscolor"},[t._v(t._s(t.serviceCharge)+"元")]),t._v(" "),s("img",{attrs:{src:a("HFFY"),alt:""}})])]),t._v(" "),s("div",{staticClass:"fullname"},[s("p",[s("span",[t._v("\n           实际到账\n            ")]),t._v(" "),s("em",{staticClass:"emcolor"},[t._v(t._s(t.maxAmount)+"元")])])]),t._v(" "),s("div",{staticClass:"fullname"},[s("p",[s("span",[t._v("\n           借款期限\n            ")]),t._v(" "),s("em",{staticClass:"emcolor"},[t._v(t._s(t.term)+"天")])])]),t._v(" "),s("p",{staticClass:"paddings_box"}),t._v(" "),s("div",{staticClass:"fullname"},[s("p",[s("span",[t._v("\n           还款日期\n            ")]),t._v(" "),s("em",[t._v(t._s(t.repayment))])])]),t._v(" "),s("div",{staticClass:"fullname"},[s("p",[s("span",[t._v("\n           银行卡\n            ")]),t._v(" "),s("em",[t._v(t._s(t.cardNumber))])])]),t._v(" "),s("div",{staticClass:"fullname",on:{click:function(e){t.showprop()}}},[s("p",[s("span",[t._v("\n           借款用途\n            ")]),t._v(" "),s("em",{staticClass:"emstyle",class:{action:"请选择借款用途"!==t.coltiter}},[t._v(t._s(t.coltiter))]),t._v(" "),s("img",{staticClass:"propcolor",attrs:{src:a("n8Hp"),alt:""}})])]),t._v(" "),s("div",[s("van-popup",{attrs:{position:"bottom",overlay:!0},model:{value:t.shows,callback:function(e){t.shows=e},expression:"shows"}},[s("van-picker",{ref:"choice",attrs:{"show-toolbar":"",title:"借款用途",columns:t.columns},on:{cancel:t.onCancel,confirm:t.conFirm,change:t.onChange}})],1)],1),t._v(" "),s("div",{staticClass:"check_box"},[s("van-checkbox",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("同意")]),s("span",[t._v("《银行卡自动代扣协议》")])],1),t._v(" "),s("button",{staticClass:"butt",class:{butts:!1===t.disabled},attrs:{disabled:t.disabled},on:{click:t.borrowMoney}},[t._v("立即借款")]),t._v(" "),t._m(0)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"war_box"},[e("p",{staticClass:"warning"},[e("img",{attrs:{src:a("MgEe"),alt:""}}),e("span",[this._v("平台禁止学生借款")])])])}]};var k=a("VU/8")(v,b,!1,function(t){a("9JL5")},"data-v-0c707cde",null);e.default=k.exports},HFFY:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAfCAYAAACGVs+MAAAC4klEQVRYR9WXS2gTURSGvzOJLxSqrkQR7EJ8bKwPpAi1WFCrBUUhzE1oQVDEnajdiVBwKyqIK0VdpMkNwReK9S1SEVF8dKFYuhBX7oQWqq1t5sgdWlFp00mIKZ7dDIfzf3PuP/fcK2rMUuAiqo2IzKIaoTqMyFPggKgx94Em4C7wvRr6wBygGXjsAIaAJ2LtjiqJhzJqTBewxQEocF2s3VtlgGvAnv8bQBOJRc43ks/3l9o9Naa8Dih4JJNHUG0HHICLPlTPk8udEwiiwJQFoB0dHr29FtUE8Bm4A8SBncASRK6SzSYEnK+KRnkAvn8YkbOo3mBgwEhX13Do6La2uYyMdAK7gf1i7aV/A5BMfkR1AYODtXLr1rffRTSRqCEWc135KNbWVxxADx6cQX+/28HyYq0/kYAacwfVrQTBbMnnC8Ugyl2CU4h0ibWPJgRIJp+iWifW1lS8A1MWbG1dwejoe+C+WOtMWXkTTlZRfb8ekTSwDNgs1j6vCoDu2zefoaErwC5gBJFDks1enkp8bBaUtxH94fxk8gKqB5wxETkumUxfFPHKARjT484Qks2ujCo8nlfWX/C3iBrTgucNSybzcFoAShX9Y/nKHUZ/FTnhnsXak6XCVGoJPowBrJ4eAN8/GgLkcqenBaBU0ck84IbGbbHWjdKqhRpzE2hxZ8KXwBrgbbibTR6jxOPHJJ1+U4xSU6k6guDM2EFlstQZwFqgRzSVWk4QnALqgJlFis9DdRTYJrncq4nyNJVaTxA8QCSO6mCRWj+Ad3heu0TtuRqzGOhGdSGx2HbJZFznfoUas8FNQuAr8XiDpNNfotSODOCKaSJRSyzWDbhuNEsu9yJ8n0ptpFC4h8gghUKD5POfooiHf1DUxPE89f1VY/c6d490tyln4nuhf2KxRunsDPeGqFEyQPjFvr8Okceoeoi4Y7jgeU2SybyOKjyeVxZACGHMJsAdQgSRNslmn5Uq7vJ/AqL6kp+27XyVAAAAAElFTkSuQmCC"},d9cu:function(t,e,a){a("XqYu"),a("6d7H")},gVfS:function(t,e,a){"use strict";e.__esModule=!0,e.default=void 0;e.default={data:function(){return{parent:null}},methods:{findParent:function(t){for(var e=this.$parent;e;){if(e.$options.name===t){this.parent=e;break}e=e.$parent}}}}},vkhW:function(t,e,a){"use strict";var s=a("R6lU");e.__esModule=!0,e.default=void 0;var n=s(a("ArwO")),i=s(a("gVfS")),o=(0,n.default)({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.b()},[a("div",{class:[t.b("icon",[t.shape,{disabled:t.isDisabled,checked:t.checked}])],on:{click:t.toggle}},[t._t("icon",[a("icon",{style:t.iconStyle,attrs:{name:"success"}})],{checked:t.checked})],2),t.$slots.default?a("span",{class:t.b("label",t.labelPosition),on:{click:function(e){t.toggle("label")}}},[t._t("default")],2):t._e()])},name:"checkbox",mixins:[i.default],props:{name:null,value:null,disabled:Boolean,checkedColor:String,labelPosition:String,labelDisabled:Boolean,shape:{type:String,default:"round"}},computed:{checked:{get:function(){return this.parent?-1!==this.parent.value.indexOf(this.name):this.value},set:function(t){this.parent?this.setParentValue(t):this.$emit("input",t)}},isDisabled:function(){return this.parent&&this.parent.disabled||this.disabled},iconStyle:function(){var t=this.checkedColor;if(t&&this.checked&&!this.isDisabled)return{borderColor:t,backgroundColor:t}}},watch:{value:function(t){this.$emit("change",t)}},created:function(){this.findParent("van-checkbox-group")},methods:{toggle:function(t){this.isDisabled||"label"===t&&this.labelDisabled||(this.checked=!this.checked)},setParentValue:function(t){var e=this.parent,a=e.value.slice();if(t){if(e.max&&a.length>=e.max)return;-1===a.indexOf(this.name)&&(a.push(this.name),e.$emit("input",a))}else{var s=a.indexOf(this.name);-1!==s&&(a.splice(s,1),e.$emit("input",a))}}}});e.default=o}});